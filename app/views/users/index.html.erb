<% provide(:title, 'All Users') %>
<% provide(:class_text, 'user--edit') %>
<% provide(:button_text, '更新') %>
<h1>ユーザー一覧</h1>

<%= paginate @users, theme: 'twitter-bootstrap-4' %> <!--will pegenateからkaminariに変更-->

<div class="input-group">
  <span class="input-group-btn">
    <button class="btn btn-default" type="button">ファイル選択</button>
  </span>
  <input type="text" class="form-control">
</div>

  <div class="input-group-btn">
    <%= link_to "CSVをインポート", '#', class: "btn btn-primary" %>
  </div>

<% @users.each do |user| %>
  <div class="container">
    <div class="row user-name"><%= user.name %></div>
    <% if current_user.admin? && !current_user?(user) %> <!--!current_user?(user)は、現在のﾕｰｻﾞｰが表示されているﾍﾟｰｼﾞのﾕｰｻﾞｰ以外であること。!がないと管理者だけ削除ﾎﾞﾀﾝが表示されてしまう-->
      <div class="col">
        <%= link_to "削除", user, data: { turbo_method: :delete, turbo_confirm: "削除してよろしいですか？" }, class: "btn btn-primary" %>
      </div>
      <div class="col">
        <button type="button" data-toggle="collapse" href="#collapse3" class="btn btn-primary">編集</button>
          <div id="collapse3" class="panel-collapse collapse">
            <div class="panel-body"><%= render 'form', user: user %></div>
          </div>
      </div>
    <% end %>
    </div>
  </div>
<% end %>
